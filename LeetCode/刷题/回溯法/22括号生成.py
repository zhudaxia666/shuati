'''
åæ€ï¼š
é¦–å…ˆï¼Œé¢å‘å°ç™½ï¼šä»€ä¹ˆæ˜¯åŠ¨æ€è§„åˆ’ï¼Ÿåœ¨æ­¤é¢˜ä¸­ï¼ŒåŠ¨æ€è§„åˆ’çš„æ€æƒ³ç±»ä¼¼äºæ•°å­¦å½’çº³æ³•ï¼Œå½“çŸ¥é“æ‰€æœ‰ i<n çš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§ç®—æ³•ç®—å‡º i=n çš„æƒ…å†µã€‚
æœ¬é¢˜æœ€æ ¸å¿ƒçš„æ€æƒ³æ˜¯ï¼Œè€ƒè™‘ i=n æ—¶ç›¸æ¯” n-1 ç»„æ‹¬å·å¢åŠ çš„é‚£ä¸€ç»„æ‹¬å·çš„ä½ç½®ã€‚
æ€è·¯ï¼š
å½“æˆ‘ä»¬æ¸…æ¥šæ‰€æœ‰ i<n æ—¶æ‹¬å·çš„å¯èƒ½ç”Ÿæˆæ’åˆ—åï¼Œå¯¹ä¸ i=n çš„æƒ…å†µï¼Œæˆ‘ä»¬è€ƒè™‘æ•´ä¸ªæ‹¬å·æ’åˆ—ä¸­æœ€å·¦è¾¹çš„æ‹¬å·ã€‚
å®ƒä¸€å®šæ˜¯ä¸€ä¸ªå·¦æ‹¬å·ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥å’Œå®ƒå¯¹åº”çš„å³æ‹¬å·ç»„æˆä¸€ç»„å®Œæ•´çš„æ‹¬å· "( )"ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™ä¸€ç»„æ˜¯ç›¸æ¯” n-1 å¢åŠ è¿›æ¥çš„æ‹¬å·ã€‚

é‚£ä¹ˆï¼Œå‰©ä¸‹ n-1 ç»„æ‹¬å·æœ‰å¯èƒ½åœ¨å“ªå‘¢ï¼Ÿ
ã€è¿™é‡Œæ˜¯é‡ç‚¹ï¼Œè¯·ç€é‡ç†è§£ã€‘
å‰©ä¸‹çš„æ‹¬å·è¦ä¹ˆåœ¨è¿™ä¸€ç»„æ–°å¢çš„æ‹¬å·å†…éƒ¨ï¼Œè¦ä¹ˆåœ¨è¿™ä¸€ç»„æ–°å¢æ‹¬å·çš„å¤–éƒ¨ï¼ˆå³ä¾§ï¼‰ã€‚
æ—¢ç„¶çŸ¥é“äº† i<n çš„æƒ…å†µï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å¯¹æ‰€æœ‰æƒ…å†µè¿›è¡Œéå†ï¼š
ã€i=pæ—¶æ‰€æœ‰æ‹¬å·çš„æ’åˆ—ç»„åˆã€‘ + ã€i=qæ—¶æ‰€æœ‰æ‹¬å·çš„æ’åˆ—ç»„åˆã€‘
å…¶ä¸­ p + q = n-1ï¼Œä¸” p q å‡ä¸ºéè´Ÿæ•´æ•°ã€‚
äº‹å®ä¸Šï¼Œå½“ä¸Šè¿° p ä» 0 å–åˆ° n-1ï¼Œq ä» n-1 å–åˆ° 0 åï¼Œæ‰€æœ‰æƒ…å†µå°±éå†å®Œäº†ã€‚
æ³¨ï¼šä¸Šè¿°éå†æ˜¯æ²¡æœ‰é‡å¤æƒ…å†µå‡ºç°çš„ï¼Œå³å½“ (p1,q1)â‰ (p2,q2) æ—¶ï¼ŒæŒ‰ä¸Šè¿°æ–¹å¼å–çš„æ‹¬å·ç»„åˆä¸€å®šä¸åŒã€‚
'''
class Solution:
    def generateParenthesis(self, n: int) -> List[str]:
        if n == 0:
            return []
        total_l = []
        total_l.append([None])    # 0ç»„æ‹¬å·æ—¶è®°ä¸ºNone
        total_l.append(["()"])    # 1ç»„æ‹¬å·åªæœ‰ä¸€ç§æƒ…å†µ
        for i in range(2,n+1):    # å¼€å§‹è®¡ç®—iç»„æ‹¬å·æ—¶çš„æ‹¬å·ç»„åˆ
            l = []        
            for j in range(i):    # å¼€å§‹éå† p q ï¼Œå…¶ä¸­p+q=n-1 , j ä½œä¸ºç´¢å¼•
                now_list1 = total_l[j]    # p = j æ—¶çš„æ‹¬å·ç»„åˆæƒ…å†µ
                now_list2 = total_l[i-1-j]    # q = (i-1) - j æ—¶çš„æ‹¬å·ç»„åˆæƒ…å†µ
                for k1 in now_list1:  
                    for k2 in now_list2:
                        if k1 == None:
                            k1 = ""
                        if k2 == None:
                            k2 = ""
                        el = "(" + k1 + ")" + k2
                        l.append(el)    # æŠŠæ‰€æœ‰å¯èƒ½çš„æƒ…å†µæ·»åŠ åˆ° l ä¸­
            total_l.append(l)    # lè¿™ä¸ªlistå°±æ˜¯iç»„æ‹¬å·çš„æ‰€æœ‰æƒ…å†µï¼Œæ·»åŠ åˆ°total_lä¸­ï¼Œç»§ç»­æ±‚è§£i=i+1çš„æƒ…å†µ
        return total_l[n]

'''
å›æº¯æ³•
ææ¸…æ¥šä¸‰ä¸ªå‰æï¼š
 ğŸ˜‚ä»€ä¹ˆæ—¶å€™èƒ½åŠ å·¦æ‹¬å·ï¼Ÿï¼šå·¦æ‹¬å·çš„ä¸ªæ•°å°äºnçš„æ—¶å€™ 
 ğŸ˜‚ä»€ä¹ˆæ—¶å€™èƒ½åŠ å³æ‹¬å·ï¼Ÿï¼šå³æ‹¬å·çš„ä¸ªæ•°å°äºå·¦æ‹¬å·çš„æ—¶å€™ 
 ğŸ˜‚ä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿå›æº¯ï¼Ÿï¼šå·¦å³æ‹¬å·çš„ä¸ªæ•°éƒ½ä¸ºnçš„æ—¶å€™
'''
def generateParenthesis(n):
    res=[]
    def back(s,left,right,):
        if left==n and right==n:
            res.append(s)
        if left<n:
            back(s+'(',left+1,right)
        if right<left:
            back(s+')',left,right+1)
    back('',0,0)
    return res